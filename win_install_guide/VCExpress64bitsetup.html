<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Instructions for setting up Visual C++ Express 2008 to compile 64-bit targets &mdash; Stimfit 0.15.2 documentation</title>
    
    <link rel="stylesheet" href="../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.15.2',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  false
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="Stimfit 0.15.2 documentation" href="../contents.html" />
    <link rel="up" title="Windows Build Guide" href="index.html" />
    <link rel="next" title="Building Stimfit" href="building.html" />
    <link rel="prev" title="Prerequisites" href="prerequisites.html" /> 
  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="building.html" title="Building Stimfit"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="prerequisites.html" title="Prerequisites"
             accesskey="P">previous</a> |</li>
    <li><a href="http://github.com/neurodroid/stimfit/wiki/Stimfit">Stimfit Homepage</a> | &nbsp; </li>
    <li><a href="http://github.com/neurodroid/stimfit" }}>Developer (Github)</a> | &nbsp; </li>
    <li><a href=../index.html>Documentation Home</a> | &nbsp; </li>

    

          <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">Windows Build Guide</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="instructions-for-setting-up-visual-c-express-2008-to-compile-64-bit-targets">
<h1>Instructions for setting up Visual C++ Express 2008 to compile 64-bit targets<a class="headerlink" href="#instructions-for-setting-up-visual-c-express-2008-to-compile-64-bit-targets" title="Permalink to this headline">¶</a></h1>
<p>Visual C++ Express 2008 will not build 64-bit targets out of the box. However, this capability can be added by installing the Windows SDK and making some registry edits. Follow the instructions below to do this. Note that if you have the full rather than express version of Visual C++, this should not be necessary.</p>
<p>These instructions have been adapted from the following sources:</p>
<p><a class="reference external" href="http://jenshuebel.wordpress.com/2009/02/12/visual-c-2008-express-edition-and-64-bit-targets/">http://jenshuebel.wordpress.com/2009/02/12/visual-c-2008-express-edition-and-64-bit-targets/</a></p>
<p><a class="reference external" href="http://www.cppblog.com/xcpp/archive/2009/09/09/vc2008express_64bit_win7sdk.html">http://www.cppblog.com/xcpp/archive/2009/09/09/vc2008express_64bit_win7sdk.html</a></p>
<p><a class="reference external" href="https://github.com/enGits/engrid/wiki/Configure-Microsoft-Visual-Studio-2008-Express-to-also-build-for-Windows-x64">https://github.com/enGits/engrid/wiki/Configure-Microsoft-Visual-Studio-2008-Express-to-also-build-for-Windows-x64</a></p>
<p><a class="reference external" href="http://wiki.blender.org/index.php/Dev:Doc/Building_Blender/Windows/Visual_C%2B%2B_2008_Express">http://wiki.blender.org/index.php/Dev:Doc/Building_Blender/Windows/Visual_C%2B%2B_2008_Express</a></p>
<div class="section" id="get-and-install-the-windows-sdk">
<h2>Get and install the Windows SDK<a class="headerlink" href="#get-and-install-the-windows-sdk" title="Permalink to this headline">¶</a></h2>
<p>Download the appropriate SDK for your version of Windows. You need version 3.5, later versions will not work with VS2008. The current Windows 7 release can be found here: <a class="reference external" href="http://www.microsoft.com/en-us/download/details.aspx?id=3138">Microsoft Windows SDK for Windows 7 and .NET Framework 3.5 SP1</a>.</p>
<p>When installing the SDK, you need to select &#8220;Windows Headers and Libraries&#8221;, &#8220;Visual C++ Compilers&#8221; and &#8220;Windows Development Tools&#8221;. The other items are optional, you may not want to install the documentation as it will take up a lot of space and might take a long time to download due to its large size.</p>
<p>It <a class="reference external" href="http://www.cppblog.com/xcpp/archive/2009/09/09/vc2008express_64bit_win7sdk.html">appears</a> that on 32-bit Windows, the SDK installer may not install the 64-bit tools the first time around. If so, go to the Control Panel -&gt; Programs -&gt; Programs and Features, choose to &#8220;Change&#8221; the &#8220;Microsoft Windows SDK for Windows 7 (7.0)&#8221; and then click the &#8220;Change&#8221; option when the installer starts up. Reselect the above options, making sure x64 and IA64 are selected in the sub-categories.</p>
</div>
<div class="section" id="edit-the-registry-and-rename-files">
<h2>Edit the registry and rename files<a class="headerlink" href="#edit-the-registry-and-rename-files" title="Permalink to this headline">¶</a></h2>
<p>The Windows SDK installer creates registry keys in <code class="docutils literal"><span class="pre">HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\VisualStudio\...</span></code> to point Visual Studio to the components it installed. This is the correct registry location for the full version of Visual Studio, but the express edition uses <code class="docutils literal"><span class="pre">HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\VCExpress\...</span></code> instead. Similarly, the SDK installer creates <code class="docutils literal"><span class="pre">*.VCPlatform.config</span></code> files for Visual Studio, but the Express edition expects these to be named <code class="docutils literal"><span class="pre">*.VCPlatform.Express.Config</span></code>.</p>
<p>The steps below have been automated by Xia Wei. Get the zip file <a class="reference external" href="http://www.cppblog.com/Files/xcpp/VCE64BIT_WIN7SDK.zip">here</a>, unzip, then open an Administrator command prompt and run <code class="docutils literal"><span class="pre">setup_x86.bat</span></code> or <code class="docutils literal"><span class="pre">setup_x64.bat</span></code> in the unzipped directory. Note that this requires VC++ 2008 to be installed into the default location on the C drive. If you&#8217;re running on 32-bit Windows or you have another version of the Windows SDK also installed, you may need to use the workarounds <a class="reference external" href="http://www.cppblog.com/xcpp/archive/2009/09/09/vc2008express_64bit_win7sdk.html">here</a>. <em>You may wish to inspect the contents of these bat files before running code from an unknown source.</em></p>
<p>To accomplish the above manually, proceed as follows:</p>
<div class="section" id="bit-os">
<h3>32-bit OS<a class="headerlink" href="#bit-os" title="Permalink to this headline">¶</a></h3>
<ol class="arabic">
<li><p class="first">Open the Registry editor (<code class="docutils literal"><span class="pre">regedit.exe</span></code>).</p>
<blockquote>
<div><ol class="arabic simple">
<li>Visit the key <code class="docutils literal"><span class="pre">HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Visual</span> <span class="pre">Studio\9.0\CLSID</span></code> and export it to a file, e.g. <code class="docutils literal"><span class="pre">sdk_data_clsid.reg</span></code>.</li>
<li>Visit the key <code class="docutils literal"><span class="pre">HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Visual</span> <span class="pre">Studio\9.0\VC</span></code> and export it to a file, e.g. <code class="docutils literal"><span class="pre">sdk_data_vc.reg</span></code>.</li>
<li>Visit the key <code class="docutils literal"><span class="pre">HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\VCExpress</span></code> and export it to a file as a backup, since the following steps will make changes here.</li>
</ol>
</div></blockquote>
</li>
<li><p class="first">Edit the files <code class="docutils literal"><span class="pre">sdk_data_clsid.reg</span></code> and <code class="docutils literal"><span class="pre">sdk_data_vc.reg</span></code>, to replace all occurrences of <code class="docutils literal"><span class="pre">HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Visual</span> <span class="pre">Studio</span></code> to <code class="docutils literal"><span class="pre">HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\VCExpress</span></code>. Save the files.</p>
</li>
<li><p class="first">Import the files <code class="docutils literal"><span class="pre">sdk_data_clsid.reg</span></code> and <code class="docutils literal"><span class="pre">sdk_data_vc.reg</span></code>, either from Regedit or by double-clicking on the modified files.</p>
</li>
<li><p class="first">Go to the folder <code class="docutils literal"><span class="pre">C:\Program</span> <span class="pre">Files\Microsoft</span> <span class="pre">Visual</span> <span class="pre">Studio</span> <span class="pre">9.0\VC\vcpackages</span></code> and rename the file <code class="docutils literal"><span class="pre">AMD64.VCPlatform.config</span></code> to <code class="docutils literal"><span class="pre">AMD64.VCPlatform.Express.config</span></code>. Note: if you have installed VC++ 2008 in a different location, you will need to go to that location instead.</p>
</li>
</ol>
</div>
<div class="section" id="id2">
<h3>64-bit OS<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h3>
<ol class="arabic">
<li><p class="first">Open the Registry editor (<code class="docutils literal"><span class="pre">regedit.exe</span></code>).</p>
<blockquote>
<div><ol class="arabic simple">
<li>Visit the key <code class="docutils literal"><span class="pre">HKEY_LOCAL_MACHINE\SOFTWARE\Wow6432Node\Microsoft\Visual</span> <span class="pre">Studio\9.0\CLSID</span></code> and export it to a file, e.g. <code class="docutils literal"><span class="pre">sdk_data_clsid.reg</span></code>.</li>
<li>Visit the key <code class="docutils literal"><span class="pre">HKEY_LOCAL_MACHINE\SOFTWARE\Wow6432Node\Microsoft\Visual</span> <span class="pre">Studio\9.0\VC</span></code> and export it to a file, e.g. <code class="docutils literal"><span class="pre">sdk_data_vc.reg</span></code>.</li>
<li>Visit the key <code class="docutils literal"><span class="pre">HKEY_LOCAL_MACHINE\SOFTWARE\Wow6432Node\Microsoft\VCExpress</span></code> and export it to a file as a backup, since the following steps will make changes here.</li>
</ol>
</div></blockquote>
</li>
<li><p class="first">Edit the files <code class="docutils literal"><span class="pre">sdk_data_clsid.reg</span></code> and <code class="docutils literal"><span class="pre">sdk_data_vc.reg</span></code>, to replace all occurrences of <code class="docutils literal"><span class="pre">HKEY_LOCAL_MACHINE\SOFTWARE\Wow6432Node\Microsoft\Visual</span> <span class="pre">Studio</span></code> to <code class="docutils literal"><span class="pre">HKEY_LOCAL_MACHINE\SOFTWARE\Wow6432Node\Microsoft\VCExpress</span></code>. Save the files.</p>
</li>
<li><p class="first">Import the files <code class="docutils literal"><span class="pre">sdk_data_clsid.reg</span></code> and <code class="docutils literal"><span class="pre">sdk_data_vc.reg</span></code>, either from Regedit or by double-clicking on the modified files.</p>
</li>
<li><p class="first">Go to the folder <code class="docutils literal"><span class="pre">C:\Program</span> <span class="pre">Files\Microsoft</span> <span class="pre">Visual</span> <span class="pre">Studio</span> <span class="pre">9.0\VC\vcpackages</span></code> and rename the file <code class="docutils literal"><span class="pre">AMD64.VCPlatform.config</span></code> to <code class="docutils literal"><span class="pre">AMD64.VCPlatform.Express.config</span></code>. Note: if you have installed VC++ 2008 in a different location, you will need to go to that location instead.</p>
</li>
</ol>
</div>
</div>
<div class="section" id="make-the-installed-sdk-the-system-default">
<h2>Make the installed SDK the system default<a class="headerlink" href="#make-the-installed-sdk-the-system-default" title="Permalink to this headline">¶</a></h2>
<p>Open the Windows 7 SDK CMD shell located in &#8220;Start -&gt; Programs -&gt; Microsoft Windows SDK v7.0 -&gt; CMD Shell&#8221; and at the CMD prompt type the following:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">Setup</span>\<span class="n">WindowsSdkVer</span><span class="o">.</span><span class="n">exe</span> <span class="o">-</span><span class="n">version</span><span class="p">:</span><span class="n">v7</span><span class="o">.</span><span class="mi">0</span>
</pre></div>
</div>
<p>You may not need this step if you do not have a previous version of the SDK installed.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../contents.html">
              <img class="logo" src="../_static/stimfit_128.png" alt="Logo"/>
            </a></p>
  <h3><a href="../contents.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Instructions for setting up Visual C++ Express 2008 to compile 64-bit targets</a><ul>
<li><a class="reference internal" href="#get-and-install-the-windows-sdk">Get and install the Windows SDK</a></li>
<li><a class="reference internal" href="#edit-the-registry-and-rename-files">Edit the registry and rename files</a><ul>
<li><a class="reference internal" href="#bit-os">32-bit OS</a></li>
<li><a class="reference internal" href="#id2">64-bit OS</a></li>
</ul>
</li>
<li><a class="reference internal" href="#make-the-installed-sdk-the-system-default">Make the installed SDK the system default</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="prerequisites.html"
                        title="previous chapter">Prerequisites</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="building.html"
                        title="next chapter">Building Stimfit</a></p>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../contents.html">
              <img class="logo" src="../_static/stimfit_128.png" alt="Logo"/>
            </a></p>
  <h3><a href="../contents.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Instructions for setting up Visual C++ Express 2008 to compile 64-bit targets</a><ul>
<li><a class="reference internal" href="#get-and-install-the-windows-sdk">Get and install the Windows SDK</a></li>
<li><a class="reference internal" href="#edit-the-registry-and-rename-files">Edit the registry and rename files</a><ul>
<li><a class="reference internal" href="#bit-os">32-bit OS</a></li>
<li><a class="reference internal" href="#id2">64-bit OS</a></li>
</ul>
</li>
<li><a class="reference internal" href="#make-the-installed-sdk-the-system-default">Make the installed SDK the system default</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="prerequisites.html"
                        title="previous chapter">Prerequisites</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="building.html"
                        title="next chapter">Building Stimfit</a></p>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
    
    <div class="footer" role="contentinfo">
        &copy; Copyright 2015, Christoph Schmidt-Hieber.
      Last updated on 23 June, 2016.
    </div>
  </body>
</html>